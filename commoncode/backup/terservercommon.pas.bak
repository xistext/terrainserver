unit terservercommon;

interface

uses idglobal;

type tmsgtype = dword;

const msg_undefined = 0;
      msg_ping      = 1;
      msg_string    = 2;
      msg_binary    = 3;
      msg_tile      = 4;

type TMsgHeader = record
        requestid : dword; { id of the request this message is a response to }
        msgtype   : tmsgtype; { type of the message }
        msglen    : dword; { length of the message data }
      end;

     PTileHeader = ^TTileHeader;
     TTileHeader = packed record
        TileX, TileY : smallint; { position of tile within world grid }
        TileSz       : word;     { dimensions of tile in 'cells' }
      end;

    { in memory status of tile }
    TTileStatus = record
       built  : boolean; { tile not built }
       dirty  : boolean; { changes not saved to disk }
       locked : boolean;
     end;

implementation

end.
